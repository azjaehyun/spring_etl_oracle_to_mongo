2020-12-30 10:31:45.116  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : Starting MigrationToolApplication on HMC-UW-N040769 with PID 15704 (D:\workspace\spring_etl_oracle_to_mongo\target\classes started by H2007118 in D:\workspace\spring_etl_oracle_to_mongo)
2020-12-30 10:31:45.116 DEBUG 15704 --- [main] c.m.migtool.MigrationToolApplication     : Running with Spring Boot v2.2.9.BUILD-SNAPSHOT, Spring v5.2.8.RELEASE
2020-12-30 10:31:45.116  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : The following profiles are active: prod
2020-12-30 10:31:45.491  INFO 15704 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2020-12-30 10:31:45.523  INFO 15704 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 MongoDB repository interfaces.
2020-12-30 10:31:45.632  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : -----------------test---------------------------------------------------------------
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : Started MigrationToolApplication in 1.034 seconds (JVM running for 2.252)
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : --------------------------------------------------------------------------------
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : Start MigrationToolApplication
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : --------------------------------------------------------------------------------
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : ******************************************** 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : ***** application.yml properties info  ***** 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.oracleip : localhost
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.oracleport : 1521
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.oracleid : system
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.oraclepw : [oracle]
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.oracledatabasename : XE
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.mongouri : mongodb://jaehyun:jaehyun@localhost:27017/
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.mongodatabasename : forum
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.mongodatabaseargs : authMechanism=SCRAM-SHA-1
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.servicetype : 2
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.fromUptDtm : 20121220071237
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.toUptDtm : 20121220071237
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.infoFromSeq : 929898699
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.infoToSeq : 929898699
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : dbinfo.bulkUpdateYn : N
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : ***** application.yml properties info ***** 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : ******************************************** 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> Service Type :  2
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> From DB RowNum  :  1
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> To DB RowNum    :  1000
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> fromUptDtm   :  20121220071237
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> toUptDtm   :  20121220071237
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> infoFromSeq   :  929898699
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> infoToSeq   :  929898699
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     :  >> bulkUpdateYn   :  N
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : ******************************************** 
2020-12-30 10:31:45.741  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : >> Oracle Url : jdbc:oracle:thin:@localhost:1521/XE
2020-12-30 10:31:47.850 ERROR 15704 --- [main] c.m.migtool.MigrationToolApplication     : IO 오류: The Network Adapter could not establish the connection

java.sql.SQLRecoverableException: IO 오류: The Network Adapter could not establish the connection
	at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:458) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.PhysicalConnection.<init>(PhysicalConnection.java:546) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CConnection.<init>(T4CConnection.java:236) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:521) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at java.sql.DriverManager.getConnection(DriverManager.java:664) ~[na:1.8.0_271]
	at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[na:1.8.0_271]
	at com.mongodb.migtool.MigrationToolApplication.getConnection(MigrationToolApplication.java:447) [classes/:na]
	at com.mongodb.migtool.MigrationToolApplication.batchInitConnection(MigrationToolApplication.java:401) [classes/:na]
	at com.mongodb.migtool.MigrationToolApplication.run(MigrationToolApplication.java:172) [classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at com.mongodb.migtool.MigrationToolApplication.main(MigrationToolApplication.java:102) [classes/:na]
Caused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection
	at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:392) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:434) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:687) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.net.ns.NSProtocol.connect(NSProtocol.java:247) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1102) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:320) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_271]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81) ~[na:1.8.0_271]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476) ~[na:1.8.0_271]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218) ~[na:1.8.0_271]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200) ~[na:1.8.0_271]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162) ~[na:1.8.0_271]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394) ~[na:1.8.0_271]
	at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_271]
	at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:150) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.net.nt.ConnOption.connect(ConnOption.java:133) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:370) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	... 20 common frames omitted

2020-12-30 10:31:47.885  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : >> Mongo connection info : mongodb://jaehyun:jaehyun@localhost:27017/forum?authMechanism=SCRAM-SHA-1
2020-12-30 10:31:47.995  INFO 15704 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-12-30 10:31:48.026  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : Fetch Execute Query :: SELECT S.* FROM  Profile_Setup_Data S  where 1=1 and  PROFILE_LEVEL = 1  AND GUBUN = 0 AND TO_CHAR(UPT_DTM,'yyyyMMddHH24miss') <= 20121220071237   AND INFO_SEQ BETWEEN1 AND 1000
2020-12-30 10:31:48.026  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : Fetch Execute Query CNT :: SELECT COUNT(*) FROM  Profile_Setup_Data S  where 1=1 and  PROFILE_LEVEL = 1  AND GUBUN = 0 AND TO_CHAR(UPT_DTM,'yyyyMMddHH24miss') <= 20121220071237   AND INFO_SEQ BETWEEN1 AND 1000
2020-12-30 10:31:48.026  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : --------------------------------------------------------------------------------
2020-12-30 10:31:48.026  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : MigrationToolApplication Finished
2020-12-30 10:31:48.026  INFO 15704 --- [main] c.m.migtool.MigrationToolApplication     : --------------------------------------------------------------------------------
2020-12-30 10:31:48.026  INFO 15704 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-12-30 10:31:48.041 ERROR 15704 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	at com.mongodb.migtool.MigrationToolApplication.main(MigrationToolApplication.java:102) [classes/:na]
Caused by: java.lang.NullPointerException: null
	at com.mongodb.migtool.MigrationToolApplication.run(MigrationToolApplication.java:181) [classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) [spring-boot-2.2.9.BUILD-SNAPSHOT.jar:2.2.9.BUILD-SNAPSHOT]
	... 5 common frames omitted

